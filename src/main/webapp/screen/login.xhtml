<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta charset="UTF-8" />
        <h:outputScript name="jsf.js" library="javax.faces"/>
        <h:outputStylesheet name="css/general.css" />
        <link rel="shortcut icon" type="image/x-icon" href="#{resource['img/favicon.png']}"/>
        <title>ログイン</title>
    </h:head>

    <h:body styleClass="body_general">
		<f:metadata>
			<f:viewAction action="#{loginController.autoLogin()}" onPostback="true" />
		</f:metadata>

		<!-- ヘッダーをインクルード -->
		<ui:include src="template/top.xhtml" />

        <div class="login_box">
            <form jsf:id="fm">
            	<p:growl id="growl" />
            	<p:panel id="pnl" header="ログイン" style="margin-bottom:10px;">
					<h:outputText value="#{flash.flash_key_message}" escape="false" />

	                <p>メールアドレス</p>
					<p:inputText id="mail" value="#{loginController.form.mail}" size="60" />
					<p:watermark for="mail" value="foo@example.com" id="mail_watermark" />

					<p>パスワード</p>
					<p:password id="password" value="#{loginController.form.password}" size="60" />

					<br /><br />
					<h:outputText value="次回から入力を省略する  :  " />
	                <p:selectBooleanCheckbox value="#{loginController.form.autoLogin}" />

					<br /><hr style="margin: 30px 0px 15px 0px;"/>

	                <p:commandButton id="loginBtn" value="ログイン" icon="ui-icon-check" action="#{loginController.login}" update="growl"/>
	                <p:commandButton id="registBtn" value="新規登録" icon="ui-icon-arrowreturnthick-1-w" action="#{loginController.regist}" immediate="true"/>
	            </p:panel>
            </form>
        </div>

		<!-- フッターをインクルード -->
		<ui:include src="template/footer.xhtml" />

    </h:body>
</html>
